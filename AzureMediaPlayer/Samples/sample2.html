<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Video.js Wrapper Sandbox</title>

  <link href="../video-js.min.css" rel="stylesheet" type="text/css">

  <script src="../video.combined.min.141107.js"></script>


  <!-- Set the location of the flash SWF -->
  <script>
    vjs.options.osmfss.swf = '../StrobeMediaPlayback.2.0.swf';
    vjs.options.osmfss.plugin = '../MSAdaptiveStreamingPlugin-v1.0.10-osmf2.0.swf';
  </script>

  <!-- Set optional encryption token for flash -->
  <script>
    vjs.options.osmfss.flashVars = { AdaptiveStreamingPlugin_encryptionKeyToken: "Bearer%3durn%3amicrosoft%3aazure%3amediaservices%3acontentkeyidentifier%3da58e055c-2d07-46e4-8a4e-d8de95faa060%26urn%253aServiceAccessible%3dservice%26http%253a%252f%252fschemas.microsoft.com%252faccesscontrolservice%252f2010%252f07%252fclaims%252fidentityprovider%3dhttps%253a%252f%252fnimbusvoddev.accesscontrol.windows.net%252f%26Audience%3durn%253aNimbus%26ExpiresOn%3d1395436917%26Issuer%3dhttps%3a%2f%2fnimbuslkgglobacs.accesscontrol.windows.net%26HMACSHA256%3ddpDRe%252fQPkqHI8rtMxD05SI3LGIW18Batdn2aY%252fn2qTg%253d" };
  </script>

</head>
<body>
  <p style="background-color:#eee; border: 1px solid #777; padding: 10px; font-size: .8em; line-height: 1.5em; font-family: Verdana, sans-serif;">Video.js test</p>

  <video id="vid1" class="video-js vjs-default-skin" controls preload="auto" width="640" height="264"
         poster="http://video-js.zencoder.com/oceans-clip.png"
         data-setup='{"techOrder": ["onePlayer", "osmfss", "html5", "flash"], "nativeControlsForTouch": false}'>
    <source src="http://iis-wms101/clienttestmedia/Automation/Smooth/H264/EE4-H264/Content.ism/manifest" type="application/vnd.ms-sstr+xml">
    <source src="http://iis-wms101/ClientTestMedia/Automation/Mp4/HarryPotter/HarryPotter_1000.mp4" type="video/mp4">
    <p class="vjs-no-js">To view this video please enable JavaScript, and consider upgrading to a web browser that <a href="http://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a></p>
  </video>
  <textarea id="txtLog" style="width:640px" rows="10"></textarea>

  <script>
    UrlRewriter.expandSourceTags(["DASH", "HLS-V3"]);

    vid = document.getElementById("vid1");

    // When setting options through the video tag we need to wait
    // until video.js does the HTML "video" tag scan before any call
    // to videojs() otherwise the data-setup options are lost.
    window.addEventListener("load", function () {
      var myPlayer = videojs("vid1");
      var txtLog = document.getElementById("txtLog");
      txtLog.value = "user-agent: " + navigator.userAgent + "\n\n" +
                     "tech:       " + myPlayer.techName + "\n\n" +
                     "mime:       " + myPlayer.currentType();
    });
  </script>

</body>
</html>
