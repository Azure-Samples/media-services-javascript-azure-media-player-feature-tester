<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Azure Media Player Embed</title>
    <meta name="description" content="azure, azure media services, azure media player, features, demo, amp, embed, media player, media services, ams">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        html {
            height: 100%;
        }

        body {
            overflow: hidden;
            height: 100%;
            margin: 0px;
        }
    </style>
    <script type="text/javascript">
        var appInsights = window.appInsights || function (config) {
            function r(config) { t[config] = function () { var i = arguments; t.queue.push(function () { t[config].apply(t, i) }) } } var t = { config: config }, u = document, e = window, o = "script", s = u.createElement(o), i, f; for (s.src = config.url || "//az416426.vo.msecnd.net/scripts/a/ai.0.js", u.getElementsByTagName(o)[0].parentNode.appendChild(s), t.cookie = u.cookie, t.queue = [], i = ["Event", "Exception", "Metric", "PageView", "Trace"]; i.length;) r("track" + i.pop()); return r("setAuthenticatedUserContext"), r("clearAuthenticatedUserContext"), config.disableExceptionTracking || (i = "onerror", r("_" + i), f = e[i], e[i] = function (config, r, u, e, o) { var s = f && f(config, r, u, e, o); return s !== !0 && t["_" + i](config, r, u, e, o), s }), t
        }({
            instrumentationKey: "a6f1ab20-167c-4855-acd4-59821ba82d01"
        });

        window.appInsights = appInsights;
        appInsights.trackPageView();
    </script>
    <!--Useful Libraries-->
    <script src="assets/js/vendor/modernizr-2.7.1.min.js"></script>
    <script src="assets/js/vendor/jquery-1.11.2.min.js"></script>

    <!--Determine what version of AMP to Load-->
    <script>
        //Query String Parser
        var queryString = function () { for (var e = {}, r = window.location.search.substring(1), i = r.split("&"), n = 0; n < i.length; n++) { var t = i[n].split(/=(.*)/); if ("undefined" == typeof e[t[0]]) e[t[0]] = t[1]; else if ("string" == typeof e[t[0]]) { var s = [e[t[0]], t[1]]; e[t[0]] = s } else e[t[0]].push(t[1]) } return e }();


        var ampVersion = queryString.version || "2.1.2";
        var theme = (queryString.theme) ? queryString.theme.toLowerCase() : "amp-default";

        var ampUrl = "//amp.azure.net/libs/amp/" + ampVersion + "/azuremediaplayer.min.js";

        var skinUrl = (theme == "stream") ? "AzureMediaPlayer/themes/stream/player-skin.css?v=2" : ("//amp.azure.net/libs/amp/" + ampVersion + "/skins/" + ((theme == "amp-flush") ? "amp-flush" : "amp-default") + "/azuremediaplayer.min.css");
        var pluginCollectDataUrl = "AzureMediaPlayer/Plugins/amp_analytics_collectData" + ((parseInt(ampVersion) <= 1) ? "" : "V2") + ".js";
        var pluginSendAIUrl = "AzureMediaPlayer/Plugins/amp_analytics_sendAI.js";
        var pluginGAUrl = "AzureMediaPlayer/plugins/amp-ga.js";
        var pluginStreamUrl = "AzureMediaPlayer/themes/stream/player-skin.js?v=2";

        //Load Theme Skin
        $("<link/>", {
            rel: "stylesheet",
            type: "text/css",
            href: skinUrl
        }).appendTo("head");

        //Load AMP + Plugins
        var scriptsLoaded = false;

        $.getScript(ampUrl).then(function () {
            $.getScript(pluginCollectDataUrl).then(function () {
                $.getScript(pluginSendAIUrl).then(function () {
                    $.getScript(pluginGAUrl).then(function () {
                        if (theme == "stream") {
                            $.getScript(pluginStreamUrl).then(function () {
                                scriptsLoaded = true;
                            });
                        } else {
                            scriptsLoaded = true;
                        }
                    });
                });
            });
        });
    </script>

</head>
<body>
    <!--<video id="azuremediaplayer" class="azuremediaplayer amp-big-play-centered" controls width="100%" height="100%" style="margin:0px;padding:0px">
        <p class="amp-no-js">To view this video please enable JavaScript, and consider upgrading to a web browser that supports HTML5 video</p>
    </video>-->
    <script>
        var skinClass;
        switch (window.theme) {
            case "amp-flush":
                skinClass = "amp-flush-skin";
                break;
            case "stream":
                skinClass = "amp-stream-skin";
                break;
            default:
                skinClass = "amp-default-skin";
        }
        $("body").append('<video id="azuremediaplayer" class="azuremediaplayer amp-big-play-centered ' + skinClass + '" width="100%" height="100%" style="margin:0px;padding:0px;overflow:hidden" tabindex=0><p class="amp-no-js">To view this video please enable JavaScript, and consider upgrading to a web browser that supports HTML5 video</p></video>');
    </script>
    <script src="AzureMediaPlayer/main-amp.js"></script>
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date(); a = s.createElement(o),
            m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
        //ga('create', 'UA-59948509-1', 'auto');
        ga('create', 'UA-59948509-2', 'auto');
        ga('send', 'pageview');
    </script>
</body>
</html>
